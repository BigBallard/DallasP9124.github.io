<!DOCTYPE html>
<div class="container post" >
  <h3>Post 1: 1/13/2018</h3>
  <p>Since my last post, the code for the statistical analysis service has been merged into the code base and has begun to be tested. Now that that solution has been made, I have taken on the task of refactoring our reifier configuration settings and UI components in order to support the selection of specific array elements in an ingest configuration. One of the primary formats that Darklight reads in is JSON, as it is a common format for log systems such as Splunk, Elasticsearch, and Fireeye.</p>
  <p>This lack of configuration was discovered last fall and has been put on the backlog for some time now due to another refactor going on with Darklight that has taken away our primary UI programmer. We have released version 3.3 this past week so it has marked a good time for this refactor to take place. I am ambitious and excited to take on this task because of the many concepts that it entails and I get to learn and better my skills at.</p>
  <p>The purpose of the reifier concept in Darklight is to take incoming raw data and map it to a RDF graph representation for further reasoning analysis. It is also a good method of reducing trash data and extracting valuable data. A minimum requirement of building a reifier is to define how you would like to define the class of the object and the unique ID. The current way of doing this is shown with a dialog that appears and has you choose a class from the available ontologies in the system and selecting whether the ID will be generated as a UUID or by selecting a JSON path to an element of the incoming sample JSON file that will represent the ID in the incoming data the configuration represents.</p>
  <p>I will first be tackling the implementation of the new design where more explicit options are available along with an example output of that part of the configuration. The current design prevents you from choosing a JSON path that leads to an array element. Because JSON arrays can hold any amount of possible literals or objects mixed in a single array, we left that option out. On top of that, you will need to choose what index of the array you want to select. These changes are cascading all the way down to the POJO (plain old java object) that stores the configuration information.</p>
  <p>So as I am rebuilding the dialog, I will be need to add an option to the configuration POJO that will save the array indexing. Working my way up from the setting of this value, I will need to trace how this is set from the dialog and how it will be accessed at the appropriate parts of the system.</p>
  <p>When the dialog component is finished, the next part of the task will be to take the new parts of the dialog and make them classes of their own for code reuse in other parts of Darklight that allow you to select JSON paths that do no include array indexing, but should. Posts will be more common over the next couple weeks on how I go about this task.</p>
</div>