
<!DOCTYPE html>
<div class="container post">
  <h3>Post 7: 3/17/2018</h3>
  <p>This past week has been focused on the completion of the reifier refactor. Once the task had been completed to a point of where I implemented the minimum required features, I started testing the loading and operation of previous reifiers of the earlier workspaces. While doing so I had realized that I had missed a minor accomodation to the feature that I eventually decided would be held off for the time being as it did not prevent the reifier infrastructure from doing its job.</p>
  <p>While finishing up the feature list, I had found a pattern of code management that I have deemed to be the worst part about it. Without a significant understanding of the code that you are managing, if you’re not the original author, then it is easy to get yourself into a situation where you will make changes that will cascade through the API until eventually you make a full circle. By example, when I began this refactor, I started by working with the data wrappers that held the context of the sample JSON and configuration as a whole. Primarily I thought that if you begin at the source then you would work your way up without too much conflict. Eventually I began to work with data manipulation portion. I blindly began making method changes without checking where the fingerprint of that method was completely.</p>
  <p>Working through the cascade made me realize that the changes I had made would not work with the data objects properly in a different but valid context. Dealing with this round robin made me revisit these methods numerous times. Some of which I had to start completely over in order to get them to work with all scenarios.</p>
  <p>The last hiccup was rewriting the method that produces the JSON path labels from the wrappers that hold data for the UI tree. The core of this problem was when I would restart the system. I had originally written the method to read through the tree references in the wrappers when they were drag and dropped from the sample JSON tree. During runtime, these nodes (what are stored in these wrappers) had references to their parents and children. However, I found that when the system restarted, these relationships were not reconstructed between the nodes in the wrappers. So when this method was called, it was working with a single node rather than the relationship tree.</p>
  <p>At first my thought was that I needed to use the wrappers tree relationships rather than the nodes they were holding. But as I began working that problem, it turned out that the wrappers only held the relationships of the configuration tree where nodes from the sample are dragged and dropped to create a custom JSON structure. This quickly put a halt to my progress and forced me to really debug the problem and follow the function calls to discover this null reference problem, which I found after a day or so.</p>
  <p>Now that this was addressed, I was able to actually write the label creating function and in a much simpler fashion that didn’t involve both the wrappers and the nodes they held. Producing proper label’s was a key part to the API since it produces that built JSON path for the reifier configuration.</p>
</div>